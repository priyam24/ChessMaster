#include<iostream>
#include<math.h>
using namespace std;

class board{
	char b[8][8];
	public:
	    board();
	    char getb(int i ,int k){
	    	return b[i][k];
		}
		char** getbptr(){
			return (char**)b;
		}
		void setboard(int k1,int l1,int k,int l,char ch){
			b[k][l]=ch;
			b[k1][l1]='-';
		}
		void show(char);
		int alt_check(board,int,int,char);
		int check(board,int,int,char);
		int check_with_king(board,int,int,char);
		int check_without_king(board,int,int,char);
		int sp_check(board,int,int,char);
		int get_checkmate_status(board,char,char,int,int,int,int);
		int get_stalemate_status(board,char);
	    friend class king;
	    friend class rook;
	    friend class bishop;
	    friend class pawn;
	    friend class queen;
	    friend class knight;
};
void board::show(char ch){
			if(ch=='w'){
			cout<<endl;
			for(int i=0;i<9;i++){
				if(i==0)cout<<"    |";
				else cout<<"    "<<i-1<<"   |";
			}			
			for(int i=1;i<9;i++)
			{
				int k=1,l=1;
				cout<<endl;
				while(k++<=78)cout<<"_";
				cout<<endl;
				for(int j=0;j<9;j++)
				{
					if(j==0)
					cout<<"  "<<i-1<<" |";
					else{
						switch(b[i-1][j-1])
						{
						case '-':
						case 'c':
							cout<<"   _    |";
							break;
						case 'R':
							cout<<"  ROOK  |";
							break;
						case 'K':
							cout<<" KNIGHT |";
							break;
						case 'B':
							cout<<" BISHOP |";
							break;
						case 'Q':
							cout<<" QUEEN  |";
							break;
						case 'X':
							cout<<"  KING  |";
							break;
						case 'P':
							cout<<"  PAWN  |";
							break;
						case 'r':
							cout<<"  rook  |";
							break;
						case 'k':
							cout<<" knight |";
							break;
						case 'b':
							cout<<" bishop |";
							break;
						case 'q':
							cout<<"  queen |";
							break;
						case 'x':
							cout<<"  king  |";
							break;
						case 'p':
							cout<<"  pawn  |";
							break;
						default:
							break;
					}
					}
				}cout<<endl;
			}
			}
			else{
			cout<<endl;
			for(int i=8;i>=0;i--){
				if(i==8)cout<<"    |";
				else cout<<"    "<<i<<"   |";
			}
			for(int i=8;i>=1;i--)
			{
				int k=1,l=1;
				cout<<endl;
				while(k++<=78)cout<<"_";
				cout<<endl;
				for(int j=8;j>=0;j--)
				{
					if(j==8)
					cout<<"  "<<i-1<<" |";
					else{
						switch(b[i-1][j])
						{
						case '-':
						case 'c':
							cout<<"   _    |";
							break;
						case 'R':
							cout<<"  ROOK  |";
							break;
						case 'K':
							cout<<" KNIGHT |";
							break;
						case 'B':
							cout<<" BISHOP |";
							break;
						case 'Q':
							cout<<" QUEEN  |";
							break;
						case 'X':
							cout<<"  KING  |";
							break;
						case 'P':
							cout<<"  PAWN  |";
							break;
						case 'r':
							cout<<"  rook  |";
							break;
						case 'k':
							cout<<" knight |";
							break;
						case 'b':
							cout<<" bishop |";
							break;
						case 'q':
							cout<<"  queen |";
							break;
						case 'x':
							cout<<"  king  |";
							break;
						case 'p':
							cout<<"  pawn  |";
							break;
						default:
							break;
					}
					}
				}cout<<endl;
			}
			}
			
		}
board::board(){
		for(int i=0;i<8;i++){
			for(int j=0;j<8;j++){
				if(i>1&&i<6)
				b[i][j]='-';
				else if(i==0){
				if(j==0||j==7)
				b[i][j]='R';
				if(j==1||j==6)
				b[i][j]='K';
				if(j==2||j==5)
				b[i][j]='B';
				if(j==3)b[i][j]='Q';
				if(j==4)b[i][j]='X';	
				}
				else if(i==1)b[i][j]='P';
				else if(i==6)b[i][j]='p';
				else if(i==7){
				if(j==0||j==7)
				b[i][j]='r';
				else if(j==1||j==6)
				b[i][j]='k';
				else if(j==2||j==5)
				b[i][j]='b';
				else if(j==3)b[i][j]='q';
				else b[i][j]='x';	
				}}}
	    }
int board::alt_check(board bd,int i,int j,char ch){
	int chk1,a,c;
	char chh;
	int k,t,l,m1,n=-1,s=-1,e=-1,w=-1,ne=-1,se=-1,nw=-1,sw=-1;
	int n1i,n1j,n2i,n2j,s1i,s1j,s2i,s2j,w1i,w1j,w2i,w2j,e1i,e1j,e2i,e2j;
	if(ch=='b'){
		for(a=0;a<8;a++){
			for(c=0;c<8;c++){
				if(bd.b[a][c]=='X'){
					break;
				}
			}
			if(bd.b[a][c]=='X'){
				break;
			}
		}
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='b'||bd.b[u][j]=='p'||bd.b[u][j]=='x')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][j];
							bd.b[u][j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='r'||bd.b[u][v]=='x')
					sw=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='p'){
						if(bd.b[u][v]=='p'){
							if(u==i+1&&v==j-1){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
							}
						else sw=0;
					}
					else{
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='x'||bd.b[u][v]=='r')
					se=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='p'){
						if(bd.b[u][v]=='p'){
							if(u==i+1&&v==j+1){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
							}
							else se=0;
						}
						else{
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}
				}
			}
		}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='p'||bd.b[u][j]=='b'||bd.b[u][j]=='x')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][j];
							bd.b[u][j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='p'||bd.b[u][v]=='r'||bd.b[u][v]=='x')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}
				}
			}	
		}
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='p'||bd.b[u][v]=='r'||bd.b[u][v]=='x')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}					
				}
			}
		}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='k'||bd.b[i][u]=='b'||bd.b[i][u]=='p'||bd.b[i][u]=='x')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[i][u];
							bd.b[i][u]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[i][u]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='k'||bd.b[i][u]=='b'||bd.b[i][u]=='p'||bd.b[i][u]=='x')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[i][u];
							bd.b[i][u]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[i][u]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[n1i][n1j];
							bd.b[n1i][n1j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[n1i][n1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[n2i][n2j];
							bd.b[n2i][n2j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[n2i][n2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[s1i][s1j];
							bd.b[s1i][s1j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[s1i][s1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[s2i][s2j];
							bd.b[s2i][s2j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[s2i][s2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[e1i][e1j];
							bd.b[e1i][e1j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[e1i][e1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[e2i][e2j];
							bd.b[e2i][e2j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[e2i][e2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[w1i][w1j];
							bd.b[w1i][w1j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[w1i][w1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='k'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[w2i][w2j];
							bd.b[w2i][w2j]='-';
							chk1=check(bd,a,c,'b');
							if(chk1==0)
							return 1;
							else{
								bd.b[w2i][w2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		return 0;
	}
	else{
		for(a=0;a<8;a++){
			for(c=0;c<8;c++){
				if(bd.b[a][c]=='x'){
					break;
				}
			}
			if(bd.b[a][c]=='x'){
				break;
			}
		}
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='P'||bd.b[u][j]=='B'||bd.b[u][j]=='K'||bd.b[u][j]=='X')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][j];
							bd.b[u][j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='P'||bd.b[u][v]=='R'||bd.b[u][v]=='K'||bd.b[u][v]=='X')
					sw=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='K'||bd.b[u][v]=='R'||bd.b[u][v]=='P'||bd.b[u][v]=='X')
					se=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
					}
				}
				}
			}
		}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='P'||bd.b[u][j]=='K'||bd.b[u][j]=='B'||bd.b[u][j]=='X')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][j];
							bd.b[u][j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='R'||bd.b[u][v]=='K'||bd.b[u][v]=='X')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='P'){
							if(bd.b[u][v]=='P'){
								if(u==i-1&&v==j-1){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
								}
								else nw=0;
							}
							else{
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
							}
						}
					}
				}
				}
			}	
		}
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='K'||bd.b[u][v]=='R'||bd.b[u][v]=='X')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='P'){
							if(bd.b[u][v]=='P'){
								if(u==i-1&&v==j+1){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
							}
								else ne=0;
							}
							else{
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[u][v];
							bd.b[u][v]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[u][v]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
							}
						}
					}
				}					
				}
			}
		}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='K'||bd.b[i][u]=='B'||bd.b[i][u]=='P'||bd.b[i][u]=='X')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[i][u];
							bd.b[i][u]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[i][u]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='K'||bd.b[i][u]=='B'||bd.b[i][u]=='P'||bd.b[i][u]=='X')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[i][u];
							bd.b[i][u]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[i][u]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[n1i][n1j];
							bd.b[n1i][n1j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[n1i][n1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[n2i][n2j];
							bd.b[n2i][n2j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[n2i][n2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[s1i][s1j];
							bd.b[s1i][s1j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[s1i][s1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[s2i][s2j];
							bd.b[s2i][s2j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[s2i][s2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[e1i][e1j];
							bd.b[e1i][e1j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[e1i][e1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[e2i][e2j];
							bd.b[e2i][e2j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[e2i][e2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[w1i][w1j];
							bd.b[w1i][w1j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[w1i][w1j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='K'){
							chh=bd.b[i][j];
							bd.b[i][j]=bd.b[w2i][w2j];
							bd.b[w2i][w2j]='-';
							chk1=check(bd,a,c,'w');
							if(chk1==0)
							return 1;
							else{
								bd.b[w2i][w2j]=bd.b[i][j];
								bd.b[i][j]=chh;
							}
			}
		}
		return 0;
	}
}
int board::check_without_king(board bd,int i,int j,char ch){
	int k,t,l,m1,n=-1,s=-1,e=-1,w=-1,ne=-1,se=-1,nw=-1,sw=-1;
	int n1i,n1j,n2i,n2j,s1i,s1j,s2i,s2j,w1i,w1j,w2i,w2j,e1i,e1j,e2i,e2j;
	if(ch=='b'){
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='b'||bd.b[u][j]=='p')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'||bd.b[u][j]=='x'){
							if(bd.b[u][j]=='x'){
								if(u==i+1)
								return 0;
								else s=0;
							}
							else return 1;
						}
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='r')
					sw=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'||bd.b[u][v]=='p'){
						if(bd.b[u][v]=='x'||bd.b[u][v]=='p'){
							if(u==i+1&&v==j-1){
								if(bd.b[u][v]=='x') return 0;
							
								return 1;
							}
							else sw=0;
						}
						else return 1;
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='r')
					se=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'||bd.b[u][v]=='p'){
						if(bd.b[u][v]=='x'||bd.b[u][v]=='p'){
							if(u==i+1&&v==j+1)
								if(bd.b[u][v]=='x') return 0;
							
								return 1;
							}
							else se=0;
						}
						else return 1;
					}
				}
				}
			}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='p'||bd.b[u][j]=='b')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'||bd.b[u][j]=='x'){
							if(bd.b[u][j]=='x'){
								if(u==i-1)
								return 0;
								else n=0;
							}
							else return 1;
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='p'||bd.b[u][v]=='r')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'){
							if(bd.b[u][v]=='x'){
								if(u==i-1&&v==j-1)
								return 0;
								else nw=0;
							}
							else return 1;
						}
					}
				}
				}
			}	
		}
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='p'||bd.b[u][v]=='r')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'){
							if(bd.b[u][v]=='x'){
								if(u==i-1&&v==j+1)
								return 0;
								else ne=0;
							}
							else return 1;
						}
					}
				}					
				}
			}
		}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='k'||bd.b[i][u]=='b'||bd.b[i][u]=='p')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'||bd.b[i][u]=='x'){
							if(bd.b[i][u]=='x'){
								if(u==j-1)
								return 0;
								else w=0;
							}
							else return 1;
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='k'||bd.b[i][u]=='b'||bd.b[i][u]=='p')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'||bd.b[i][u]=='x'){
							if(bd.b[i][u]=='x'){
								if(u==j+1)
								return 0;
								else e=0;
							}
							else return 1;
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='k')
			return 1;
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='k')
			return 1;
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='k')
			return 1;
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='k')
			return 1;
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='k')
			return 1;
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='k')
			return 1;
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='k')
			return 1;
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='k')
			return 1;
		}
		return 0;
	}
	else{
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='P'||bd.b[u][j]=='B'||bd.b[u][j]=='K')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'||bd.b[u][j]=='X'){
							if(bd.b[u][j]=='X'){
								if(u==i+1)
								return 0;
								else s=0;
							}
							else return 1;
					        }
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='P'||bd.b[u][v]=='R'||bd.b[u][v]=='K')
					sw=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'){
						if(bd.b[u][v]=='X'){
							if(u==i+1&&v==j-1)
							return 0;
							else sw=0;
						}
						else return 1;
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='K'||bd.b[u][v]=='R'||bd.b[u][v]=='P')
					se=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'){
						if(bd.b[u][v]=='X'){
							if(u==i+1&&v==j+1)
							return 0;
							else se=0;
						}
						else return 1;
					}
				}
				}
			}
		}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='P'||bd.b[u][j]=='K'||bd.b[u][j]=='B')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'||bd.b[u][j]=='X'){
							if(bd.b[u][j]=='X'){
								if(u==i-1)
								return 0;
								else n=0;
							}
							else return 1;
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='R'||bd.b[u][v]=='K')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'||bd.b[u][v]=='P'){
							if(bd.b[u][v]=='X'||bd.b[u][v]=='P'){
								if(u==i-1&&v==j-1)
								if(bd.b[u][v]=='X') return 0;
							
								return 1;
							}
								else nw=0;
							}
							else return 1;
						}
					}
				}
				}
			}	
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='K'||bd.b[u][v]=='R')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'||bd.b[u][v]=='P'){
							if(bd.b[u][v]=='X'||bd.b[u][v]=='P'){
								if(u==i-1&&v==j+1)
								if(bd.b[u][v]=='X') return 0;
							
								return 1;
							}
								else ne=0;
							}
							else return 1;
						}
					}
				}					
				}
			}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='K'||bd.b[i][u]=='B'||bd.b[i][u]=='P')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'||bd.b[i][u]=='X'){
							if(bd.b[i][u]=='X'){
								if(u==j-1)
								return 0;
								else w=0;
							}
							else return 1;
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='K'||bd.b[i][u]=='B'||bd.b[i][u]=='P')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'||bd.b[i][u]=='X'){
							if(bd.b[i][u]=='X'){
								if(u==j+1)
								return 0;
								else e=0;
							}
							else return 1;
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='K')
			return 1;
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='K')
			return 1;
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='K')
			return 1;
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='K')
			return 1;
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='K')
			return 1;
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='K')
			return 1;
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='K')
			return 1;
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='K')
			return 1;
		}
		return 0;
	}
}
int board::check_with_king(board bd,int i,int j,char ch){
	if(ch=='w'){
		if(i-1>=0){
			if(j-1>=0){
				if(bd.b[i-1][j-1]=='K') return 1;
			}
			if(bd.b[i-1][j]=='K') return 1;
			if(j+1<8){
				if(bd.b[i-1][j+1]=='K') return 1;
			}
		}
		if(i+1<8){
			if(j-1>=0){
				if(bd.b[i+1][j-1]=='K') return 1;
			}
			if(bd.b[i+1][j]=='K') return 1;
			if(j+1<8){
				if(bd.b[i+1][j+1]=='K') return 1;
			}
		}
		if(j-1>=0){
			if(bd.b[i][j-1]=='K') return 1;
		}
		if(j+1<8){
			if(bd.b[i][j+1]=='K') return 1;
		}
	}
	else{
		if(i-1>=0){
			if(j-1>=0){
				if(bd.b[i-1][j-1]=='k') return 1;
			}
			if(bd.b[i-1][j]=='k') return 1;
			if(j+1<8){
				if(bd.b[i-1][j+1]=='k') return 1;
			}
		}
		if(i+1<8){
			if(j-1>=0){
				if(bd.b[i+1][j-1]=='k') return 1;
			}
			if(bd.b[i+1][j]=='k') return 1;
			if(j+1<8){
				if(bd.b[i+1][j+1]=='k') return 1;
			}
		}
		if(j-1>=0){
			if(bd.b[i][j-1]=='k') return 1;
		}
		if(j+1<8){
			if(bd.b[i][j+1]=='k') return 1;
		}
	}
}
int board::check(board bd,int i,int j,char ch){
	int k,t,l,m1,n=-1,s=-1,e=-1,w=-1,ne=-1,se=-1,nw=-1,sw=-1;
	int n1i,n1j,n2i,n2j,s1i,s1j,s2i,s2j,w1i,w1j,w2i,w2j,e1i,e1j,e2i,e2j;
	if(ch=='b'){
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='b'||bd.b[u][j]=='p')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'||bd.b[u][j]=='x'){
							if(bd.b[u][j]=='x'){
								if(u==i+1)
								return 1;
								else s=0;
							}
							else return 1;
						}
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='r')
					sw=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'||bd.b[u][v]=='p'){
						if(bd.b[u][v]=='x'||bd.b[u][v]=='p'){
							if(u==i+1&&v==j-1)
							return 1;
							else sw=0;
						}
						else return 1;
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='r')
					se=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'||bd.b[u][v]=='p'){
						if(bd.b[u][v]=='x'||bd.b[u][v]=='p'){
							if(u==i+1&&v==j+1)
							return 1;
							else se=0;
						}
						else return 1;
					}
				}
				}
			}
		}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='p'||bd.b[u][j]=='b')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'||bd.b[u][j]=='x'){
							if(bd.b[u][j]=='x'){
								if(u==i-1)
								return 1;
								else n=0;
							}
							else return 1;
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='p'||bd.b[u][v]=='r')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'){
							if(bd.b[u][v]=='x'){
								if(u==i-1&&v==j-1)
								return 1;
								else nw=0;
							}
							else return 1;
						}
					}
				}
				}
			}	
		}
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='p'||bd.b[u][v]=='r')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'||bd.b[u][v]=='x'){
							if(bd.b[u][v]=='x'){
								if(u==i-1&&v==j+1)
								return 1;
								else ne=0;
							}
							else return 1;
						}
					}
				}					
				}
			}
		}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='k'||bd.b[i][u]=='b'||bd.b[i][u]=='p')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'||bd.b[i][u]=='x'){
							if(bd.b[i][u]=='x'){
								if(u==j-1)
								return 1;
								else w=0;
							}
							else return 1;
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='k'||bd.b[i][u]=='b'||bd.b[i][u]=='p')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'||bd.b[i][u]=='x'){
							if(bd.b[i][u]=='x'){
								if(u==j+1)
								return 1;
								else e=0;
							}
							else return 1;
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='k')
			return 1;
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='k')
			return 1;
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='k')
			return 1;
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='k')
			return 1;
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='k')
			return 1;
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='k')
			return 1;
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='k')
			return 1;
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='k')
			return 1;
		}
		return 0;
	}
	else{
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='P'||bd.b[u][j]=='B'||bd.b[u][j]=='K')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'||bd.b[u][j]=='X'){
							if(bd.b[u][j]=='X'){
								if(u==i+1)
								return 1;
								else s=0;
							}
							else return 1;
						}
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='P'||bd.b[u][v]=='R'||bd.b[u][v]=='K')
					sw=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'){
						if(bd.b[u][v]=='X'){
							if(u==i+1&&v==j-1)
							return 1;
							else sw=0;
						}
						else return 1;
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='K'||bd.b[u][v]=='R'||bd.b[u][v]=='P')
					se=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'){
						if(bd.b[u][v]=='X'){
							if(u==i+1&&v==j+1)
							return 1;
							else se=0;
						}
						else return 1;
					}
				}
				}
			}
		}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='P'||bd.b[u][j]=='K'||bd.b[u][j]=='B')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'||bd.b[u][j]=='X'){
							if(bd.b[u][j]=='X'){
								if(u==i-1)
								return 1;
								else n=0;
							}
							else return 1;
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='R'||bd.b[u][v]=='K')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'||bd.b[u][v]=='P'){
							if(bd.b[u][v]=='X'||bd.b[u][v]=='P'){
								if(u==i-1&&v==j-1)
								return 1;
								else nw=0;
							}
							else return 1;
						}
					}
				}
				}
			}	
		}
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='K'||bd.b[u][v]=='R')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'||bd.b[u][v]=='X'||bd.b[u][v]=='P'){
							if(bd.b[u][v]=='X'||bd.b[u][v]=='P'){
								if(u==i-1&&v==j+1)
								return 1;
								else ne=0;
							}
							else return 1;
						}
					}
				}					
				}
			}
		}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='K'||bd.b[i][u]=='B'||bd.b[i][u]=='P')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'||bd.b[i][u]=='X'){
							if(bd.b[i][u]=='X'){
								if(u==j-1)
								return 1;
								else w=0;
							}
							else return 1;
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='K'||bd.b[i][u]=='B'||bd.b[i][u]=='P')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'||bd.b[i][u]=='X'){
							if(bd.b[i][u]=='X'){
								if(u==j+1)
								return 1;
								else e=0;
							}
							else return 1;
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='K')
			return 1;
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='K')
			return 1;
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='K')
			return 1;
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='K')
			return 1;
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='K')
			return 1;
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='K')
			return 1;
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='K')
			return 1;
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='K')
			return 1;
		}
		return 0;
	}
	
}
int board::sp_check(board bd,int i,int j,char ch){
	int k,t,l,m1,n=-1,s=-1,e=-1,w=-1,ne=-1,se=-1,nw=-1,sw=-1;
	int n1i,n1j,n2i,n2j,s1i,s1j,s2i,s2j,w1i,w1j,w2i,w2j,e1i,e1j,e2i,e2j;
	if(ch=='b'){
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='b')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'||bd.b[u][j]=='p'){
							if(bd.b[u][j]=='p'){
								if(u==i+1)
								return 1;
								else s=0;
							}
							else return 1;
						}
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='k'||bd.b[u][v]=='r'||bd.b[u][v]=='p')
					sw=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'){
					return 1;
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='r'||bd.b[u][v]=='p'||bd.b[u][v]=='k')
					se=0;
					else if(bd.b[u][v]=='q'||bd.b[u][v]=='b'){
					return 1;
					}
				}
				}
			}
		}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=65&&bd.b[u][j]<=90)||bd.b[u][j]=='k'||bd.b[u][j]=='b'||bd.b[u][j]=='p')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='q'||bd.b[u][j]=='r'){
						return 1;
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='r'||bd.b[u][v]=='p'||bd.b[u][v]=='k')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'){
						return 1;
						}
					}
				}
				}
			}	
		}
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=65&&bd.b[u][v]<=90)||bd.b[u][v]=='r'||bd.b[u][v]=='p'||bd.b[u][v]=='k')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='q'||bd.b[u][v]=='b'){
						return 1;
						}
					}
				}					
				}
			}
		}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='p'||bd.b[i][u]=='k'||bd.b[i][u]=='b')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'){
						return 1;
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=65&&bd.b[i][u]<=90)||bd.b[i][u]=='p'||bd.b[i][u]=='k'||bd.b[i][u]=='b')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='q'||bd.b[i][u]=='r'){
						return 1;
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='k')
			return 1;
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='k')
			return 1;
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='k')
			return 1;
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='k')
			return 1;
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='k')
			return 1;
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='k')
			return 1;
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='k')
			return 1;
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='k')
			return 1;
		}
		return 0;
	}
	else{
		n1i=i-2;
		n1j=j-1;
		n2i=i-2;
		n2j=j+1;
		s1i=i+2;
		s1j=j-1;
		s2i=i+2;
		s2j=j+1;
		e1i=i-1;
		e1j=j+2;
		e2i=i+1;
		e2j=j+2;
		w1i=i-1;
		w1j=j-2;
		w2i=i+1;
		w2j=j-2;

		k=i+1;
		t=i-1;
		l=j+1;
		m1=j-1;
		
		if(k<8){
			for(int u=k;u<8;u++){
				if(s==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='B'||bd.b[u][j]=='K'||bd.b[u][j]=='P')
					s=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'){
						return 1;
						}
					}
				}
			}
		}
		if(k<8&&m1>=0){
			for(int u=k;u<8;u++){
				for(int v=m1;v>=0;v--){
				if((sw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='P'||bd.b[u][v]=='K'||bd.b[u][v]=='R')
					sw=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'){
					return 1;
					}
				}
				}
			}
		}
		if(k<8&&l<8){
			for(int u=k;u<8;u++){
				for(int v=l;v<8;v++){
				if((se==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='P'||bd.b[u][v]=='K'||bd.b[u][v]=='R')
					se=0;
					else if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'){
					return 1;
					}
				}
				}
			}
		}
		if(t>=0){
			for(int u=t;u>=0;u--){
				if(n==-1){
					if((bd.b[u][j]>=97&&bd.b[u][j]<=122)||bd.b[u][j]=='K'||bd.b[u][j]=='B')
					n=0;
					else if(bd.b[u][j]!='-'){
						if(bd.b[u][j]=='Q'||bd.b[u][j]=='R'||bd.b[u][j]=='P'){
							if(bd.b[u][j]=='P'){
								if(u==i-1)
								return 1;
								else n=0;
							}						
						else return 1;
						}
					}
				}	
			}
		}
		if(t>=0&&m1>=0){
			for(int u=t;u>=0;u--){
				for(int v=m1;v>=0;v--){
					if((nw==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='P'||bd.b[u][v]=='R'||bd.b[u][v]=='R')
					nw=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'){
						return 1;
						}
					}
				}
				}
			}	
		}
		if(t>=0&&l<8){
			for(int u=t;u>=0;u--){
				for(int v=l;v<8;v++){
				if((ne==-1)&&(abs(i-u)==abs(j-v))){
					if((bd.b[u][v]>=97&&bd.b[u][v]<=122)||bd.b[u][v]=='P'||bd.b[u][v]=='K'||bd.b[u][v]=='R')
					ne=0;
					else if(bd.b[u][v]!='-'){
						if(bd.b[u][v]=='Q'||bd.b[u][v]=='B'){
						return 1;
						}
					}
				}					
				}
			}
		}
		if(m1>=0){
			for(int u=m1;u>=0;u--){
				if(w==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='P'||bd.b[i][u]=='B'||bd.b[i][u]=='K')
					w=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'){
						return 1;
						}
					}
				}				
			}
		}
		if(l<8){
			for(int u=l;u<8;u++){
				if(e==-1){
					if((bd.b[i][u]>=97&&bd.b[i][u]<=122)||bd.b[i][u]=='P'||bd.b[i][u]=='K'||bd.b[i][u]=='B')
					e=0;
					else if(bd.b[i][u]!='-'){
						if(bd.b[i][u]=='Q'||bd.b[i][u]=='R'){
						return 1;
						}
					}
				}			
			}
		}

		if(n1i>=0&&n1j>=0){
			if(bd.b[n1i][n1j]=='K')
			return 1;
		}
		if(n2i>=0&&n2j<8){
			if(bd.b[n2i][n2j]=='K')
			return 1;
		}
		if(s1i<8&&s1j>=0){
			if(bd.b[s1i][s1j]=='K')
			return 1;
		}
		if(s2i<8&&s2j<8){
			if(bd.b[s2i][s2j]=='K')
			return 1;
		}
		if(e1i>=0&&e1j<8){
			if(bd.b[e1i][e1j]=='K')
			return 1;
		}
		if(e2i<8&&e2j<8){
			if(bd.b[e2i][e2j]=='K')
			return 1;
		}
		if(w1i>=0&&w1j>=0){
			if(bd.b[w1i][w1j]=='K')
			return 1;
		}
		if(w2i<8&&w2j>=0){
			if(bd.b[w2i][w2j]=='K')
			return 1;
		}
		return 0;
	}
	
}
int board::get_checkmate_status(board bd,char ch,char chh,int mm,int nn,int vchk,int v_ck){
	int l,m,k,i,j,status;
	char ch1;
	if(ch=='b'){
		for(l=0;l<8;l++){
			for(m=0;m<8;m++){
				if(bd.b[l][m]=='X'){
					break;
				}
			}
			if(bd.b[l][m]=='X'){
				break;
			}
		}
		status=check(bd,l,m,ch);
		if(status==1){
		if(m-1>=0){
			if(bd.b[l][m-1]=='-'||(bd.b[l][m-1]>=97&&bd.b[l][m-1]<=122)){
				ch1=bd.b[l][m-1];
				bd.b[l][m]='-';
				bd.b[l][m-1]='X';
				k=check(bd,l,m-1,ch);
				if(k==0)
				return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l][m-1]=='-')
				bd.b[l][m-1]='-';
				else bd.b[l][m-1]=ch1;
				}				
			}
		}
		if(m+1<8){
			if(bd.b[l][m+1]=='-'||(bd.b[l][m+1]>=97&&bd.b[l][m+1]<=122)){
				ch1=bd.b[l][m+1];
				bd.b[l][m]='-';
				bd.b[l][m+1]='X';
				k=check(bd,l,m+1,ch);
				if(k==0)
				return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l][m+1]=='-')
				bd.b[l][m+1]='-';
				else bd.b[l][m+1]=ch1;
				}	
			}
		}	
		if(l-1>=0){
				if(bd.b[l-1][m]=='-'||(bd.b[l-1][m]>=97&&bd.b[l-1][m]<=122)){
					ch1=bd.b[l-1][m];
					bd.b[l][m]='-';
					bd.b[l-1][m]='X';
					k=check(bd,l-1,m,ch);
					if(k==0)
					return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l-1][m]=='-')
				bd.b[l-1][m]='-';
				else bd.b[l-1][m]=ch1;
				}	
				}
				if(m-1>=0){
					if(bd.b[l-1][m-1]=='-'||(bd.b[l-1][m-1]>=97&&bd.b[l-1][m-1]<=122)){
						ch1=bd.b[l-1][m-1];
						bd.b[l][m]='-';
						bd.b[l-1][m-1]='X';
						k=check(bd,l-1,m-1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l-1][m-1]=='-')
				bd.b[l-1][m-1]='-';
				else bd.b[l-1][m-1]=ch1;
				}
					}

				}
				if(m+1<8){
					if(bd.b[l-1][m+1]=='-'||(bd.b[l-1][m+1]>=97&&bd.b[l-1][m+1]<=122)){
						ch1=bd.b[l-1][m+1];
						bd.b[l][m]='-';
						bd.b[l-1][m+1]='X';
						k=check(bd,l-1,m+1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l-1][m+1]=='-')
				bd.b[l-1][m+1]='-';
				else bd.b[l-1][m+1]=ch1;
				}
					}

				}
			}
			if(l+1<8){
				if(bd.b[l+1][m]=='-'||(bd.b[l+1][m]>=97&&bd.b[l+1][m]<=122)){
						ch1=bd.b[l+1][m];
						bd.b[l][m]='-';
						bd.b[l+1][m]='X';
						k=check(bd,l+1,m,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l+1][m]=='-')
				bd.b[l+1][m]='-';
				else bd.b[l+1][m]=ch1;
				}
				}
				if(m+1<8){
				if(bd.b[l+1][m+1]=='-'||(bd.b[l+1][m+1]>=97&&bd.b[l+1][m+1]<=122)){
						ch1=bd.b[l+1][m+1];
						bd.b[l][m]='-';
						bd.b[l+1][m+1]='X';
						k=check(bd,l+1,m+1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l+1][m+1]=='-')
				bd.b[l+1][m+1]='-';
				else bd.b[l+1][m+1]=ch1;
				}
				}
				}
				if(m-1>=0){
					if(bd.b[l+1][m-1]=='-'||(bd.b[l+1][m-1]>=97&&bd.b[l+1][m-1]<=122)){
						ch1=bd.b[l+1][m-1];
						bd.b[l][m]='-';
						bd.b[l+1][m-1]='X';
						k=check(bd,l+1,m-1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='X';
				if(bd.b[l+1][m-1]=='-')
				bd.b[l+1][m-1]='-';
				else bd.b[l+1][m-1]=ch1;
				}
				}
				}
			}
if(bd.b[mm][nn]!='k'){
int chkk;
if(l==mm){
	if(m>nn){
		for(int i=nn+1;i<m;i++){
			chkk=sp_check(bd,l,i,'w');
			if(chkk==1)
			return 0;
		}
	}
	else{
		for(int i=m+1;i<nn;i++){
			chkk=sp_check(bd,l,i,'w');
			if(chkk==1)
			return 0;
		}
	}
}
if(m==nn){
	if(l>mm){
		for(int i=mm+1;i<l;i++){
			chkk=sp_check(bd,i,m,'w');
			if(chkk==1)
			return 0;
		}
	}
	else{
		for(int i=l+1;i<mm;i++){
			chkk=sp_check(bd,i,m,'w');
			if(chkk==1)
			return 0;
		}
	}
}
	if(l>mm){
		if(m>nn)
		for(int i=mm+1;i<l;i++){
			for(int j=nn+1;j<m;j++){
				if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'w');
					if(chkk==1)
					return 0;
				}
			}
		}
		if(m<nn){
			for(int i=mm+1;i<l;i++){
				for(int j=nn-1;j>m;j--){
					if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'w');
					if(chkk==1)
					return 0;
					}
				}
			}
		}
	}
	if(l<mm){
		if(m>nn)
		for(int i=mm-1;i>l;i--){
			for(int j=nn+1;j<m;j++){
				if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'w');
					if(chkk==1)
					return 0;
				}
			}
		}
		if(m<nn){
			for(int i=mm-1;i>l;i--){
				for(int j=nn-1;j>m;j--){
					if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'w');
					if(chkk>0)
					{cout<<"\nchkk="<<chkk<<endl;
					return 0;}
					}
				}
			}
		}
	}
}
	if(vchk==1){
	if(v_ck==1){
		return 0;
	}		
	}

	return status;
	}
	else return 0;	
	}
	else{
		for(l=0;l<8;l++){
			for(m=0;m<8;m++){
				if(bd.b[l][m]=='x'){
					break;
				}
			}
			if(bd.b[l][m]=='x'){
				break;
			}
		}
		status=check(bd,l,m,ch);
		if(status==1){
			if(m-1>=0){
					if(bd.b[l][m-1]=='-'||(bd.b[l][m-1]>=65&&bd.b[l][m-1]<=90)){
						ch1=bd.b[l][m-1];
						bd.b[l][m]='-';
						bd.b[l][m-1]='x';
						k=check(bd,l,m-1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l][m-1]=='-')
				bd.b[l][m-1]='-';
				else bd.b[l][m-1]=ch1;
				}
					}
			}
			if(m+1<8){
					if(bd.b[l][m+1]=='-'||(bd.b[l][m+1]>=65&&bd.b[l][m+1]<=90)){
						ch1=bd.b[l][m+1];
						bd.b[l][m]='-';
						bd.b[l][m+1]='x';
						k=check(bd,l,m+1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l][m+1]=='-')
				bd.b[l][m+1]='-';
				else bd.b[l][m+1]=ch1;
				}
					}
			}
			if(l-1>=0){
				if(bd.b[l-1][m]=='-'||(bd.b[l-1][m]>=65&&bd.b[l-1][m]<=90)){
					ch1=bd.b[l-1][m];
					bd.b[l][m]='-';
					bd.b[l-1][m]='x';
					k=check(bd,l-1,m,ch);
					if(k==0)
					return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l-1][m]=='-')
				bd.b[l-1][m]='-';
				else bd.b[l-1][m]=ch1;
				}
				}
				if(m-1>=0){
					if(bd.b[l-1][m-1]=='-'||(bd.b[l-1][m-1]>=65&&bd.b[l-1][m-1]<=90)){
						ch1=bd.b[l-1][m-1];
						bd.b[l][m]='-';
						bd.b[l-1][m-1]='x';
						k=check(bd,l-1,m-1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l-1][m-1]=='-')
				bd.b[l-1][m-1]='-';
				else bd.b[l-1][m-1]=ch1;
				}
					}

				}
				if(m+1<8){
					if(bd.b[l-1][m+1]=='-'||(bd.b[l-1][m+1]>=65&&bd.b[l-1][m+1]<=90)){
						ch1=bd.b[l-1][m+1];
						bd.b[l][m]='-';
						bd.b[l-1][m+1]='x';
						k=check(bd,l-1,m+1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l-1][m+1]=='-')
				bd.b[l-1][m+1]='-';
				else bd.b[l-1][m+1]=ch1;
				}
					}

				}
			}
			if(l+1<8){
				if(bd.b[l+1][m]=='-'||(bd.b[l+1][m]>=65&&bd.b[l+1][m]<=90)){
						ch1=bd.b[l+1][m];
						bd.b[l][m]='-';
						bd.b[l+1][m]='x';
						k=check(bd,l+1,m,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l+1][m]=='-')
				bd.b[l+1][m]='-';
				else bd.b[l+1][m]=ch1;
				}
				}
				if(m+1<8){
				if(bd.b[l+1][m+1]=='-'||(bd.b[l+1][m+1]>=65&&bd.b[l+1][m+1]<=90)){
						ch1=bd.b[l+1][m+1];
						bd.b[l][m]='-';
						bd.b[l+1][m+1]='x';
						k=check(bd,l+1,m+1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l+1][m+1]=='-')
				bd.b[l+1][m+1]='-';
				else bd.b[l+1][m+1]=ch1;
				}
				}
				}
				if(m-1>=0){
					if(bd.b[l+1][m-1]=='-'||(bd.b[l+1][m-1]>=65&&bd.b[l+1][m-1]<=90)){
						ch1=bd.b[l+1][m-1];
						bd.b[l][m]='-';
						bd.b[l+1][m-1]='x';
						k=check(bd,l+1,m-1,ch);
						if(k==0)
						return 0;
				else{
				bd.b[l][m]='x';
				if(bd.b[l+1][m-1]=='-')
				bd.b[l+1][m-1]='-';
				else bd.b[l+1][m-1]=ch1;
				}
				}
				}
			}
if(bd.b[mm][nn]=='K'){
int chkk;
if(l==mm){
	if(m>nn){
		for(int i=nn+1;i<m;i++){
			chkk=sp_check(bd,l,i,'b');
			if(chkk==1)
			return 0;
		}
	}
	else{
		for(int i=m+1;i<nn;i++){
			chkk=sp_check(bd,l,i,'b');
			if(chkk==1)
			return 0;
		}
	}
}
if(m==nn){
	if(l>mm){
		for(int i=mm+1;i<l;i++){
			chkk=sp_check(bd,i,m,'b');
			if(chkk==1)
			return 0;
		}
	}
	else{
		for(int i=l+1;i<mm;i++){
			chkk=sp_check(bd,i,m,'b');
			if(chkk==1)
			return 0;
		}
	}
}
	if(l>mm){
		if(m>nn)
		for(int i=mm+1;i<l;i++){
			for(int j=nn+1;j<m;j++){
				if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'b');
					if(chkk==1)
					return 0;
				}
			}
		}
		if(m<nn){
			for(int i=mm+1;i<l;i++){
				for(int j=nn-1;j>m;j--){
					if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'b');
					if(chkk==1)
					return 0;
					}
				}
			}
		}
	}
	if(l<mm){
		if(m>nn)
		for(int i=mm-1;i>l;i--){
			for(int j=nn+1;j<m;j++){
				if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'b');
					if(chkk==1)
					return 0;
				}
			}
		}
		if(m<nn){
			for(int i=mm-1;i>l;i--){
				for(int j=nn-1;j>m;j--){
					if(abs(i-mm)==abs(j-nn)){
					chkk=sp_check(bd,i,j,'b');
					if(chkk==1)
					return 0;
					}
				}
			}
		}
	}
}
	if(vchk==1){
	if(v_ck==1){
		return 0;
	}
	}
	return status;
	}
	else return 0;	
	}
}
int board::get_stalemate_status(board bd,char ch){
	int l,m,k,i,j,status;
	if(ch=='b'){
		for(l=0;l<8;l++){
			for(m=0;m<8;m++){
				if(bd.b[l][m]=='X'){
					break;
				}
			}
			if(bd.b[l][m]=='X'){
				break;
			}
		}
		status=check(bd,l,m,ch);
		if(status==0){
			if(l-1>=0){
				if(bd.b[l-1][m]=='-'||(bd.b[l-1][m]>=97&&bd.b[l-1][m]<=122)){
					for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
					bd.b[i][j]='-';
					bd.b[l-1][m]='X';
					k=check(bd,l-1,m,ch);
					if(k==0)
					return 0;
				}
				if(m-1>=0){
					if(bd.b[l-1][m-1]=='-'||(bd.b[l-1][m-1]>=97&&bd.b[l-1][m-1]<=122)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l-1][m-1]='X';
						k=check(bd,l-1,m-1,ch);
						if(k==0)
						return 0;
					}
					if(bd.b[l][m-1]=='-'||(bd.b[l][m-1]>=97&&bd.b[l][m-1]<=122)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l][m-1]='X';
						k=check(bd,l,m-1,ch);
						if(k==0)
						return 0;
					}
				}
				if(m+1<8){
					if(bd.b[l-1][m+1]=='-'||(bd.b[l-1][m+1]>=97&&bd.b[l-1][m+1]<=122)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l-1][m+1]='X';
						k=check(bd,l-1,m+1,ch);
						if(k==0)
						return 0;
					}
					if(bd.b[l][m+1]=='-'||(bd.b[l][m+1]>=97&&bd.b[l][m+1]<=122)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l][m+1]='X';
						k=check(bd,l,m+1,ch);
						if(k==0)
						return 0;
					}
				}
			}
			if(l+1<8){
				if(bd.b[l+1][m]=='-'||(bd.b[l+1][m]>=97&&bd.b[l+1][m]<=122)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l+1][m]='X';
						k=check(bd,l+1,m,ch);
						if(k==0)
						return 0;
				}
				if(m+1<8){
				if(bd.b[l+1][m+1]=='-'||(bd.b[l+1][m+1]>=97&&bd.b[l+1][m+1]<=122)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l+1][m+1]='X';
						k=check(bd,l+1,m+1,ch);
						if(k==0)
						return 0;
				}
				}
				if(m-1>=0){
					if(bd.b[l+1][m-1]=='-'||(bd.b[l+1][m-1]>=97&&bd.b[l+1][m-1]<=122)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='X'){
							break;
							}
						}
						if(bd.b[i][j]=='X'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l+1][m-1]='X';
						k=check(bd,l+1,m-1,ch);
						if(k==0)
						return 0;
						else return 1;
					}
				}
			}
		}
		else return 0;	
	}
	else{
		for(l=0;l<8;l++){
			for(m=0;m<8;m++){
				if(bd.b[l][m]=='x'){
					break;
				}
			}
			if(bd.b[l][m]=='x'){
				break;
			}
		}
		status=check(bd,l,m,ch);
		if(status==0){
			if(l-1>=0){
				if(bd.b[l-1][m]=='-'||(bd.b[l-1][m]>=65&&bd.b[l-1][m]<=90)){
					for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
					bd.b[i][j]='-';
					bd.b[l-1][m]='x';
					k=check(bd,l-1,m,ch);
					if(k==0)
					return 0;
				}
				if(m-1>=0){
					if(bd.b[l-1][m-1]=='-'||(bd.b[l-1][m-1]>=65&&bd.b[l-1][m-1]<=90)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l-1][m-1]='x';
						k=check(bd,l-1,m-1,ch);
						if(k==0)
						return 0;
					}
					if(bd.b[l][m-1]=='-'||(bd.b[l][m-1]>=65&&bd.b[l][m-1]<=90)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l][m-1]='x';
						k=check(bd,l,m-1,ch);
						if(k==0)
						return 0;
					}
				}
				if(m+1<8){
					if(bd.b[l-1][m+1]=='-'||(bd.b[l-1][m+1]>=65&&bd.b[l-1][m+1]<=90)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l-1][m+1]='x';
						k=check(bd,l-1,m+1,ch);
						if(k==0)
						return 0;
					}
					if(bd.b[l][m+1]=='-'||(bd.b[l][m+1]>=65&&bd.b[l][m+1]<=90)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l][m+1]='x';
						k=check(bd,l,m+1,ch);
						if(k==0)
						return 0;
					}
				}
			}
			if(l+1<8){
				if(bd.b[l+1][m]=='-'||(bd.b[l+1][m]>=65&&bd.b[l+1][m]<=90)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l+1][m]='x';
						k=check(bd,l+1,m,ch);
						if(k==0)
						return 0;
				}
				if(m+1<8){
				if(bd.b[l+1][m+1]=='-'||(bd.b[l+1][m+1]>=65&&bd.b[l+1][m+1]<=90)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l+1][m+1]='x';
						k=check(bd,l+1,m+1,ch);
						if(k==0)
						return 0;
				}
				}
				if(m-1>=0){
					if(bd.b[l+1][m-1]=='-'||(bd.b[l+1][m-1]>=65&&bd.b[l+1][m-1]<=90)){
						for(i=0;i<8;i++){
						for(j=0;j<8;j++){
							if(bd.b[i][j]=='x'){
							break;
							}
						}
						if(bd.b[i][j]=='x'){
							break;
						}
					}
						bd.b[i][j]='-';
						bd.b[l+1][m-1]='x';
						k=check(bd,l+1,m-1,ch);
						if(k==0)
						return 0;
						else return 1;
				}
				}
			}
		}
		else return 0;	
	}
}
